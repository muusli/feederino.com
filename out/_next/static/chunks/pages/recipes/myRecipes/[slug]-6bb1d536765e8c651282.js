_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[22],{"980i":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/recipes/myRecipes/[slug]",function(){return n("SwWn")}])},C8l7:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return m}));var r=n("q1tI"),a=function(e,t,n,r,a){if(e.exists){var i=e.data(t);return a&&(i=a(i)),n&&(i[n]=e.id),r&&(i[r]=e.ref),i}},i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},c=function(e){return{loading:void 0===e||null===e,value:e}},s=function(e){var t=e?e():void 0,n=Object(r.useReducer)((function(e,t){switch(t.type){case"error":return i({},e,{error:t.error,loading:!1,value:void 0});case"reset":return c(t.defaultValue);case"value":return i({},e,{error:void 0,loading:!1,value:t.value});default:return e}}),c(t)),a=n[0],s=n[1],l=function(){var t=e?e():void 0;s({type:"reset",defaultValue:t})},u=function(e){s({type:"error",error:e})},o=function(e){s({type:"value",value:e})};return Object(r.useMemo)((function(){return{error:a.error,loading:a.loading,reset:l,setError:u,setValue:o,value:a.value}}),[a.error,a.loading,l,u,o,a.value])},l=function(e,t){var n=!e&&!t,r=!!e&&!!t&&e.isEqual(t);return n||r},u=function(e,t){return function(e,t,n){var a=Object(r.useRef)(e);return Object(r.useEffect)((function(){t(e,a.current)||(a.current=e,n&&n())})),a}(e,l,t)},o=function(e,t){return d(!0,e,t)},d=function(e,t,n){var a=s(),i=a.error,c=a.loading,l=a.reset,o=a.setError,d=a.setValue,j=a.value,m=u(t,l);Object(r.useEffect)((function(){if(m.current){if(e){var t=n&&n.snapshotListenOptions?m.current.onSnapshot(n.snapshotListenOptions,d,o):m.current.onSnapshot(d,o);return function(){t()}}m.current.get(n?n.getOptions:void 0).then(d).catch(o)}else d(void 0)}),[m.current]);var b=[j,c,i];return Object(r.useMemo)((function(){return b}),b)},j=function(e,t){return b(!0,e,t)},m=function(e,t){return p(!0,e,t)},b=function(e,t,n){var a=s(),i=a.error,c=a.loading,l=a.reset,o=a.setError,d=a.setValue,j=a.value,m=u(t,l);Object(r.useEffect)((function(){if(m.current){if(e){var t=n&&n.snapshotListenOptions?m.current.onSnapshot(n.snapshotListenOptions,d,o):m.current.onSnapshot(d,o);return function(){t()}}m.current.get(n?n.getOptions:void 0).then(d).catch(o)}else d(void 0)}),[m.current]);var b=[j,c,i];return Object(r.useMemo)((function(){return b}),b)},p=function(e,t,n){var i=n?n.idField:void 0,c=n?n.refField:void 0,s=n?n.snapshotOptions:void 0,l=n?n.transform:void 0,u=b(e,t,n),o=u[0],d=u[1],j=u[2],m=[Object(r.useMemo)((function(){return o?a(o,s,i,c,l):void 0}),[o,s,i,c,l]),d,j];return Object(r.useMemo)((function(){return m}),m)}},SwWn:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ee}));var r=n("nKUr"),a=n("ODXe"),i=n("uPMs"),c=n("a3WO");var s=n("BsWD");function l(e){return function(e){if(Array.isArray(e))return Object(c.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(s.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=n("o0o1"),o=n.n(u),d=n("HaE+"),j=n("q1tI"),m=n.n(j),b=n("TSYQ"),p=n.n(b),f=(n("wp+A"),n("U6Mw")),h=n("wx14"),g=n("rePB"),O=n("zLVn"),x=n("17x9"),v=n.n(x),y=n("33Jr");function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q={children:v.a.node,bar:v.a.bool,multi:v.a.bool,tag:y.o,value:v.a.oneOfType([v.a.string,v.a.number]),min:v.a.oneOfType([v.a.string,v.a.number]),max:v.a.oneOfType([v.a.string,v.a.number]),animated:v.a.bool,striped:v.a.bool,color:v.a.string,className:v.a.string,barClassName:v.a.string,cssModule:v.a.object,style:v.a.object,barStyle:v.a.object,barAriaValueText:v.a.string,barAriaLabelledBy:v.a.string},S=function(e){var t=e.children,n=e.className,r=e.barClassName,a=e.cssModule,i=e.value,c=e.min,s=e.max,l=e.animated,u=e.striped,o=e.color,d=e.bar,j=e.multi,b=e.tag,f=e.style,g=e.barStyle,x=e.barAriaValueText,v=e.barAriaLabelledBy,N=Object(O.a)(e,["children","className","barClassName","cssModule","value","min","max","animated","striped","color","bar","multi","tag","style","barStyle","barAriaValueText","barAriaLabelledBy"]),q=Object(y.q)(i)/Object(y.q)(s)*100,S=Object(y.k)(p()(n,"progress"),a),C={className:Object(y.k)(p()("progress-bar",d&&n||r,l?"progress-bar-animated":null,o?"bg-"+o:null,u||l?"progress-bar-striped":null),a),style:w(w(w({},d?f:{}),g),{},{width:q+"%"}),role:"progressbar","aria-valuenow":i,"aria-valuemin":c,"aria-valuemax":s,"aria-valuetext":x,"aria-labelledby":v,children:t};return d?m.a.createElement(b,Object(h.a)({},N,C)):m.a.createElement(b,Object(h.a)({},N,{style:f,className:S}),j?t:m.a.createElement("div",C))};S.propTypes=q,S.defaultProps={tag:"div",value:0,min:0,max:100,style:{},barStyle:{}};var C=S;var T=function(e){e.register;var t=e.setImage,i=e.defaultImage,c=m.a.useState(null),s=Object(a.a)(c,2),l=s[0],u=s[1],b=Object(j.useState)(!1),p=b[0],h=b[1],g=Object(j.useState)(0),O=g[0],x=g[1];m.a.useEffect(Object(d.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(24).then(n.t.bind(null,"eeMe",7));case 2:(t=e.sent.default).autoDiscover=!1,r=i,new t(document.getElementById("dropzone-single"),{url:"/recipes",thumbnailWidth:null,thumbnailHeight:null,previewsContainer:document.getElementsByClassName("dz-preview-single")[0],previewTemplate:document.getElementsByClassName("dz-preview-single")[0].innerHTML,maxFiles:1,acceptedFiles:"image/*",init:function(){this.on("addedfile",(function(e){r&&this.removeFile(r),r=e,v(e)}))}}),document.getElementsByClassName("dz-preview-single")[0].innerHTML="";case 7:case"end":return e.stop()}}),e)}))),[]);var v=function(){var e=Object(d.a)(o.a.mark((function e(n){var r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.type.split("/")[1],a=f.i.ref("uploads/".concat(f.b.currentUser.uid,"/").concat(Date.now(),".").concat(r)),h(!0),(i=a.put(n)).on(f.a,(function(e){var n=(e.bytesTransferred/e.totalBytes*100).toFixed(0);x(n),i.then((function(e){return a.getDownloadURL()})).then((function(e){console.log(e),t(e),u(e),h(!1)}))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"dropzone dropzone-single mb-3",id:"dropzone-single",children:[Object(r.jsx)("div",{className:"fallback",children:Object(r.jsxs)("div",{className:"custom-file",children:[Object(r.jsx)("input",{accept:"image/x-png,image/gif,image/jpeg",onChange:v,className:"custom-file-input",id:"projectCoverUploads",type:"file"}),Object(r.jsx)("label",{className:"custom-file-label",htmlFor:"projectCoverUploads",children:"Choose file"})]})}),Object(r.jsx)("div",{className:"dz-preview dz-preview-single",children:Object(r.jsx)("div",{className:"dz-preview-cover",children:Object(r.jsx)("img",{alt:"...",className:"dz-preview-img","data-dz-thumbnail":""})})})]}),Object(r.jsxs)("div",{className:" progress-wrapper",children:[" ",Object(r.jsxs)("div",{className:" progress-info",children:[l&&Object(r.jsx)("div",{className:" progress-label",children:Object(r.jsx)("span",{children:"Bild hochgeladen"})}),p&&Object(r.jsx)("div",{className:" progress-percentage",children:Object(r.jsxs)("span",{children:[O,"%"]})})]}),p&&Object(r.jsx)(C,{max:"100",value:O,color:"success"})]})]})},F=(n("Omkr"),n("20a2")),k=n("Ya7B"),R=n("L3zb"),I=n("ok1R"),z=n("rhny"),B=n("jrRI"),E=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];t&&clearTimeout(t),t=setTimeout((function(){e.apply(null,a)}),n)}};var V=function(e){var t=m.a.useState(),n=Object(a.a)(t,2),i=n[0],c=n[1],s=m.a.useState(),l=Object(a.a)(s,2),u=l[0],j=l[1],b=E(function(){var e=Object(d.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(t),n=f.e.httpsCallable("autocompleteIngredient"),e.next=4,n({string:t});case 4:r=e.sent,console.log(r),j(r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),500),p=function(e){var t=m.a.useState(),n=Object(a.a)(t,2),i=n[0],c=n[1],s=m.a.useState(),l=Object(a.a)(s,2),u=l[0],j=l[1],b=E(function(){var e=Object(d.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(t),n=f.e.httpsCallable("autocompleteIngredient"),e.next=4,n({string:t});case 4:r=e.sent,a=[],r.data.forEach((function(e){var t={name:e.name,url:"https://spoonacular.com/cdn/ingredients_100x100/"+e.image};a.push(t)})),j(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),500);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(R.a,{className:"ingredients",id:"ingredient"+e.ingredient.position,name:"ingredient".concat(e.ingredients.indexOf(e.ingredient)+1),innerRef:e.innerRef,defaultValue:e.ingredient.name,onChange:function(e){E(b(e.target.value),500)},placeholder:"Neue Zutat",type:"text"},"ingredient".concat(e.ingredients.indexOf(e.ingredient)+1)),i?Object(r.jsx)(R.a,{defaultValue:e.ingredient.name,onChange:function(t){!function(t,n){e.updateIngredient(t,n),c("");var r="#ingredient"+n.position;document.querySelector(r).value=t}(t.target.value,e.ingredient)},multiple:"multiple",type:"select",children:u?u.map((function(e){return Object(r.jsx)("option",{"data-thumbnail":e.url,value:e.name,children:e.name},e.name)})):Object(r.jsx)("option",{children:"No results"})},e.ingredient.id):null]})},h=function(){var t=Object(d.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(n);case 2:r=t.sent,e.addIngredient(r),c(""),document.querySelector("#addIngredient").value="";case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.e.httpsCallable("searchIngredient"),e.next=3,n({string:t});case 3:return r=e.sent,console.log(r),e.abrupt("return",r.data.results[0]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var t=Object(d.a)(o.a.mark((function t(n,r){var a,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(n);case 2:a=t.sent,(i=r).id=a.id,i.name=a.name,i.url="https://spoonacular.com/cdn/ingredients_100x100/"+a.image,e.updateIngredients(i);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(r.jsx)(I.a,{children:Object(r.jsxs)(z.a,{md:"12",children:[Object(r.jsx)("label",{className:"form-control-label",htmlFor:"",children:"Zutaten"}),Object(r.jsxs)(B.a,{children:[Object(r.jsx)(R.a,{id:"addIngredient",onChange:function(e){E(b(e.target.value),500)},placeholder:"Neue Zutat",type:"text"}),i?Object(r.jsx)(R.a,{id:"ingredientDropdown",onChange:function(e){h(e.target.value)},multiple:"multiple",type:"select",children:u?u.map((function(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("option",{"data-thumbnail":e.url,children:e.name})," "]})})):Object(r.jsx)("option",{children:"No results"})}):""]}),Object(r.jsx)(B.a,{children:Object(r.jsx)(I.a,{children:Object(r.jsx)(z.a,{md:"12",children:Object(r.jsx)(I.a,{children:e.ingredients?e.ingredients.map((function(t){return Object(r.jsx)(z.a,{md:"6",children:Object(r.jsx)(B.a,{children:Object(r.jsxs)(I.a,{children:[Object(r.jsx)(z.a,{md:"3",children:Object(r.jsx)(R.a,{name:"quantity".concat(e.ingredients.indexOf(t)+1),defaultValue:t.quantity,innerRef:e.innerRef,placeholder:"Menge",onChange:function(n){return function(t,n){var r=n;r.quantity=t,e.updateIngredients(r)}(n.target.value,t)}},"quantity".concat(e.ingredients.indexOf(t)+1))}),Object(r.jsxs)(z.a,{md:"3",children:[Object(r.jsxs)(R.a,{defaultValue:t.unit,name:"unit".concat(e.ingredients.indexOf(t)+1),placeholder:"Einheit",type:"select",innerRef:e.innerRef,onChange:function(n){return function(t,n){var r=n;r.unit=t,e.updateIngredients(r)}(n.target.value,t)},children:[t.unit?Object(r.jsx)("option",{value:t.unit,children:t.unit}):Object(r.jsx)("option",{children:"Einheit"}),Object(r.jsx)("option",{value:"g",children:"g"}),Object(r.jsx)("option",{value:"EL",children:"EL"}),Object(r.jsx)("option",{value:"St\xfcck",children:"St\xfcck"}),Object(r.jsx)("option",{value:"TL",children:"TL"}),Object(r.jsx)("option",{value:"Prise",children:"Prise"})]},"unit".concat(e.ingredients.indexOf(t)+1)),t.id&&Object(r.jsx)("input",{name:"id".concat(e.ingredients.indexOf(t)+1),ref:e.innerRef,defaultValue:t.id,hidden:!0}),t.url&&Object(r.jsx)("input",{name:"url".concat(e.ingredients.indexOf(t)+1),ref:e.innerRef,defaultValue:t.url,hidden:!0})]}),Object(r.jsx)(z.a,{md:"6",children:Object(r.jsx)(p,{updateIngredient:O,innerRef:e.innerRef,ingredients:e.ingredients,ingredient:t})})]})})})})):null})})})})]})})},L=n("5I6T"),D=n("NKCw"),A=n("uBiN"),P=n("CaDr"),M=n("q7Gj"),_=n("re1l"),U=n("sOKU"),W=n("OBzv");function Y(e){var t=e.recipeRef,n=e.defaultValues,i=(e.preview,Object(D.a)({defaultValues:n,mode:"onChange"})),c=i.register,s=i.handleSubmit,u=(i.reset,i.watch,i.formState),b=i.errors,h=i.setValue,g=(i.useFieldArray,u.isValid),O=u.isDirty,x=Object(j.useContext)(k.a),v=(x.user,x.username,m.a.useState(!1)),y=Object(a.a)(v,2),N=y[0],w=y[1],q=m.a.useState(n.ingredients),S=Object(a.a)(q,2),C=S[0],E=S[1],Y=m.a.useState(!1),H=Object(a.a)(Y,2),K=(H[0],H[1]),X=m.a.useState(!1),Z=Object(a.a)(X,2),J=Z[0],Q=Z[1],G=m.a.useState(!1),$=Object(a.a)(G,2),ee=$[0],te=$[1],ne=m.a.useState(!1),re=Object(a.a)(ne,2),ae=re[0],ie=re[1],ce=m.a.useState(!1),se=Object(a.a)(ce,2),le=se[0],ue=se[1],oe=m.a.useState(!1),de=Object(a.a)(oe,2),je=de[0],me=de[1],be=Object(F.useRouter)(),pe=m.a.useState("/recipe"),fe=Object(a.a)(pe,2),he=(fe[0],fe[1]),ge=m.a.useState(n.steps),Oe=Object(a.a)(ge,2),xe=Oe[0],ve=Oe[1],ye=m.a.useState(n.image),Ne=Object(a.a)(ye,2),we=Ne[0],qe=Ne[1],Se=m.a.useState([]),Ce=Object(a.a)(Se,2);Ce[0],Ce[1];C||E([]),xe||ve([]);var Te=function(){var e=Object(d.a)(o.a.mark((function e(n){var r,a,i,c,s,l,u,d,j,m,b,p,h,g,O,x,v,y,N,w,q,S,C,T,F,k,R,I,z,B,E,V,D,A,P,M,_,U,W,Y,H,K,X,Z,J,Q,G,$,ee,te,ne,re,ae,ie,ce,se,le,ue,oe,de,je,me,pe,fe,he,ge,Oe,ve,ye,Ne,we,qe,Se,Ce,Te,Fe,ke,Re,Ie,ze,Be,Ee,Ve,Le,De,Ae,Pe,Me,_e,Ue,We,Ye,He,Ke,Xe,Ze,Je,Qe,Ge,$e,et,tt,nt,rt,at,it,ct,st,lt,ut,ot,dt,jt,mt,bt,pt,ft,ht,gt,Ot;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=n.image,a=n.title,i=n.published,c=n.duration,s=n.description,l=n.activeTime,u=n.portion,d=n.difficulty,n.tagsInput,j=n.id1,m=n.id2,b=n.id3,p=n.id4,h=n.id5,g=n.id6,O=n.id7,x=n.id8,v=n.id9,y=n.id10,N=n.id11,w=n.id12,q=n.id13,S=n.id14,C=n.id15,T=n.id16,F=n.id17,k=n.id18,R=n.id19,I=n.id20,z=n.id21,B=n.id22,E=n.unit1,V=n.unit2,D=n.unit3,A=n.unit4,P=n.unit5,M=n.unit6,_=n.unit7,U=n.unit8,W=n.unit9,Y=n.unit10,H=n.unit11,K=n.unit12,X=n.unit13,Z=n.unit14,J=n.unit15,Q=n.unit16,G=n.unit17,$=n.unit18,ee=n.unit19,te=n.unit20,ne=n.unit21,re=n.unit22,ae=n.quantity1,ie=n.quantity2,ce=n.quantity3,se=n.quantity4,le=n.quantity5,ue=n.quantity6,oe=n.quantity7,de=n.quantity8,je=n.quantity9,me=n.quantity10,pe=n.quantity11,fe=n.quantity12,he=n.quantity13,ge=n.quantity14,Oe=n.quantity15,ve=n.quantity16,ye=n.quantity17,Ne=n.quantity18,we=n.quantity19,qe=n.quantity20,Se=n.quantity21,Ce=n.quantity22,Te=n.ingredient1,Fe=n.ingredient2,ke=n.ingredient3,Re=n.ingredient4,Ie=n.ingredient5,ze=n.ingredient6,Be=n.ingredient7,Ee=n.ingredient8,Ve=n.ingredient9,Le=n.ingredient10,De=n.ingredient11,Ae=n.ingredient12,Pe=n.ingredient13,Me=n.ingredient14,_e=n.ingredient15,Ue=n.ingredient16,We=n.ingredient17,Ye=n.ingredient18,He=n.ingredient19,Ke=n.ingredient20,Xe=n.ingredient21,Ze=n.ingredient22,Je=n.url1,Qe=n.url2,Ge=n.url3,$e=n.url4,et=n.url5,tt=n.url6,nt=n.url7,rt=n.url8,at=n.url9,it=n.url10,ct=n.url11,st=n.url12,lt=n.url13,ut=n.url14,ot=n.url15,dt=n.url16,jt=n.url17,mt=n.url18,bt=n.url19,pt=n.url20,ft=n.url21,ht=n.url22,gt=[{id:j,unit:E,quantity:ae,name:Te,url:Je},{unit:V,quantity:ie,name:Fe,url:Qe,id:m},{unit:D,quantity:ce,name:ke,url:Ge,id:b},{unit:A,quantity:se,name:Re,url:$e,id:p},{unit:P,quantity:le,name:Ie,url:et,id:h},{unit:M,quantity:ue,name:ze,url:tt,id:g},{unit:_,quantity:oe,name:Be,url:nt,id:O},{unit:U,quantity:de,name:Ee,url:rt,id:x},{unit:W,quantity:je,name:Ve,url:at,id:v},{unit:Y,quantity:me,name:Le,url:it,id:y},{unit:H,quantity:pe,name:De,url:ct,id:N},{unit:K,quantity:fe,name:Ae,url:st,id:w},{unit:X,quantity:he,name:Pe,url:lt,id:q},{unit:Z,quantity:ge,name:Me,url:ut,id:S},{unit:J,quantity:Oe,name:_e,url:ot,id:C},{unit:Q,quantity:ve,name:Ue,url:dt,id:T},{unit:G,quantity:ye,name:We,url:jt,id:F},{unit:$,quantity:Ne,name:Ye,url:mt,id:k},{unit:ee,quantity:we,name:He,url:bt,id:R},{unit:te,quantity:qe,name:Ke,url:pt,id:I},{unit:ne,quantity:Se,name:Xe,url:ft,id:z},{unit:re,quantity:Ce,name:Ze,url:ht,id:B}],Ot=0;Ot<gt.length;Ot++)void 0==gt[Ot].name&&gt.splice(Ot,22);return e.next=5,t.update({image:r,title:a,published:i,duration:c,description:s,activeTime:l,portion:u,steps:xe,ingredients:gt,difficulty:d,updatedAt:Object(f.h)()});case 5:be.push("/recipes/myRecipes"),L.a.success("Rezept erfolgreich gespeichert");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("main",{children:Object(r.jsxs)(A.a,{onSubmit:s(Te),children:[Object(r.jsxs)(P.a,{children:[" ",Object(r.jsx)(I.a,{children:Object(r.jsx)(z.a,{md:"12",children:Object(r.jsxs)(B.a,{children:[Object(r.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlTextarea1",children:"Titel"}),Object(r.jsx)(R.a,{defaultValue:n.title,type:"text",name:"title",innerRef:c({maxLength:{value:100,message:"Der Titel ist zu lang"},minLength:{value:4,message:"Der Titel ist zu kurz"},required:{value:!0,message:"content is required"}}),onFocus:function(e){return K(!0)},onBlur:function(e){return K(!1)}}),b.title&&Object(r.jsxs)("small",{className:"text-danger",children:[" ",b.title.message," "]})]})})}),Object(r.jsx)(I.a,{children:Object(r.jsx)(z.a,{md:"12",children:Object(r.jsxs)(B.a,{children:[Object(r.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlTextarea1",children:"Beschreibung"}),Object(r.jsx)(M.a,{className:p()("input-group-merge",{focused:J}),children:Object(r.jsx)(R.a,{defaultValue:n.description,id:"",innerRef:c({maxLength:{value:300,message:"Die Beschreibung ist zu lang"},minLength:{value:20,message:"Die Beschreibung ist zu kurz"},required:{value:!0,message:"content is required"}}),rows:"3",name:"description",type:"textarea",onFocus:function(e){return Q(!0)},onBlur:function(e){return Q(!1)}})}),b.description&&Object(r.jsxs)("small",{className:"text-danger",children:[" ",b.description.message," "]})]})})}),Object(r.jsxs)(I.a,{children:[Object(r.jsx)(z.a,{md:"6",children:Object(r.jsxs)(B.a,{children:[Object(r.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlTextarea1",children:"Dauer"}),Object(r.jsx)(M.a,{className:p()("input-group-merge",{focused:ee}),children:Object(r.jsx)(R.a,{defaultValue:n.duration,type:"number",name:"duration",innerRef:c({required:{value:!0,message:"Wie lange dauert die Zubereitung?"}}),onFocus:function(e){return te(!0)},onBlur:function(e){return te(!1)}})}),b.duration&&Object(r.jsxs)("small",{className:"text-danger",children:[" ",b.duration.message," "]})]})}),Object(r.jsx)(z.a,{md:"6",children:Object(r.jsxs)(B.a,{children:[Object(r.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlTextarea1",children:"Aktive Arbeitszeit"}),Object(r.jsx)(M.a,{className:p()("input-group-merge",{focused:ae}),children:Object(r.jsx)(R.a,{defaultValue:n.activeTime,type:"number",innerRef:c({required:{value:!0,message:"Wie lange muss man aktiv etwas tun?"}}),name:"activeTime",onFocus:function(e){return ie(!0)},onBlur:function(e){return ie(!1)}})}),b.activeTime&&Object(r.jsxs)("small",{className:"text-danger",children:[" ",b.activeTime.message," "]})]})})]}),Object(r.jsxs)(I.a,{children:[Object(r.jsx)(z.a,{md:"6",children:Object(r.jsxs)(B.a,{children:[Object(r.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlTextarea1",children:"Portionen"}),Object(r.jsx)(M.a,{className:p()("input-group-merge",{focused:le}),children:Object(r.jsx)(R.a,{defaultValue:n.portion,type:"number",name:"portion",innerRef:c({required:{value:!0,message:"Bitte gib eine g\xfcltige Anzahl der Portionen an"}}),onFocus:function(e){return ue(!0)},onBlur:function(e){return ue(!1)}})}),b.portion&&Object(r.jsxs)("small",{className:"text-danger",children:[" ",b.portion.message," "]})]})}),Object(r.jsx)(z.a,{md:"6",children:Object(r.jsxs)(B.a,{children:[Object(r.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlTextarea1",children:"Schwierigkeit"}),Object(r.jsx)(M.a,{className:p()("input-group-merge",{focused:je}),children:Object(r.jsxs)(R.a,{defaultValue:n.difficulty,innerRef:c({required:{value:!0,message:"Bitte w\xe4hle die Schwierigkeitsstufe"}}),type:"select",name:"difficulty",onFocus:function(e){return me(!0)},onBlur:function(e){return me(!1)},children:[Object(r.jsx)("option",{}),Object(r.jsx)("option",{value:"1",children:"Leicht"}),Object(r.jsx)("option",{value:"2",children:"Mittel"}),Object(r.jsx)("option",{value:"3",children:"Schwer"})]})}),b.difficulty&&Object(r.jsxs)("small",{className:"text-danger",children:[" ",b.difficulty.message," "]})]})})]}),Object(r.jsx)(V,{setValue:h,ingredients:C,innerRef:c,setIngredients:E,updateIngredients:function(e){var t=C;t.splice(e.position,1,e),E(t)},addIngredient:function(e){console.log(e);var t={id:e.id,name:e.name,position:C.length,unit:"",quantity:null,url:"https://spoonacular.com/cdn/ingredients_100x100/"+e.image};console.log(t);var n=[].concat(l(C),[t]);console.log(n),E(n)}}),Object(r.jsx)(I.a,{children:Object(r.jsxs)(z.a,{md:"12",children:[Object(r.jsxs)(B.a,{children:[Object(r.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlTextarea1",children:"Neuer Schritt"}),Object(r.jsxs)(M.a,{children:[" ",Object(r.jsx)(R.a,{id:"stepInput",rows:"3",name:"addStep",type:"textarea"}),Object(r.jsx)(_.a,{addonType:"append",children:Object(r.jsx)(U.a,{color:"default",id:"button-addon2",outline:!0,onClick:function(e){e.preventDefault();var t=[].concat(l(xe),[document.querySelector("#stepInput").value]);ve(t),document.querySelector("#stepInput").value=""},type:"button",children:"+"})})]})]}),Object(r.jsx)(I.a,{children:xe?xe.map((function(e){return Object(r.jsxs)(z.a,{md:"12",children:[Object(r.jsxs)("label",{className:"form-control-label",htmlFor:"exampleFormControlTextarea1",children:["Schritt ",xe.indexOf(e)+1]}),Object(r.jsx)(R.a,{id:"exampleFormControlTextarea1",defaultValue:e,onChange:function(t){return function(e,t){var n=xe;n.splice(t,1,e),ve(n)}(t.target.value,xe.indexOf(e))},rows:"3",name:"step",innerRef:c({required:{value:!0,message:"Bitte beschreib wie man dein Rezept zubereitet"}}),type:"textarea"}),b.step&&Object(r.jsxs)("small",{className:"text-danger",children:[" ",b.step.message," "]})]},xe.indexOf(e))})):null})]})}),Object(r.jsx)(I.a,{children:Object(r.jsxs)(z.a,{children:[Object(r.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlTextarea1",children:"Bild"}),Object(r.jsx)(T,{defaultImage:n.image,setImage:qe,register:{register:c},setDownloadURL:he}),Object(r.jsx)(R.a,{innerRef:c({required:{value:!0,message:"Bitte f\xfcge ein Bild hinzu"}}),name:"image",defaultValue:we,hidden:!0})]})})," ",Object(r.jsx)(I.a,{children:Object(r.jsxs)(z.a,{md:"12",children:[Object(r.jsx)("label",{className:"form-control-label",htmlFor:"exampleFormControlTextarea1",children:"\xd6ffentlich teilen"}),Object(r.jsx)("div",{children:Object(r.jsxs)("label",{className:"custom-toggle custom-toggle-warning mr-1",children:[Object(r.jsx)("input",{name:"published",type:"checkbox",ref:c,disabled:!O||!g}),Object(r.jsx)("span",{className:"custom-toggle-slider rounded-circle","data-label-off":"No","data-label-on":"Yes"})]})})]})})]}),Object(r.jsxs)(W.a,{children:[Object(r.jsx)(U.a,{color:"secondary",type:"button",onClick:function(){return w(!N)},children:"Schlie\xdfen"}),Object(r.jsx)(U.a,{type:"submit",color:"primary",children:"Speichern"})]})]})})}var H=n("1Yj4"),K=n("XI7o"),X=n("EvW+"),Z=(n("KQNT"),n("DxuY"));var J=function(e){var t=e.name,n=e.parentName,a=e.buttonName,i=e.buttonAction,c=e.href;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"header bg-dark pb-6",children:Object(r.jsx)(H.a,{children:Object(r.jsx)("div",{className:"header-body",children:Object(r.jsxs)(I.a,{className:"align-items-center py-4",children:[Object(r.jsxs)(z.a,{lg:"6",xs:"7",children:[Object(r.jsx)("h6",{className:"h2 text-white d-inline-block mb-0",children:t})," ",Object(r.jsxs)(K.a,{className:"d-none d-md-inline-block ml-md-4",listClassName:"breadcrumb-links breadcrumb-dark",children:[Object(r.jsx)(X.a,{children:Object(r.jsx)("a",{href:"/recipes",onClick:function(e){return e.preventDefault()},children:Object(r.jsx)("i",{className:"fas fa-home"})})}),Object(r.jsx)(X.a,{children:Object(r.jsx)("a",{href:"/recipes",children:n})}),Object(r.jsx)(X.a,{"aria-current":"page",className:"active",children:t})]})]}),Object(r.jsx)(z.a,{className:"text-right",lg:"6",xs:"5",children:Object(r.jsx)(U.a,{href:c,onClick:i,className:"btn-neutral",color:"default",size:"sm",children:a})})]})})})})})},Q=n("BLzl"),G=n("/kxI"),$=n("C8l7");function ee(){return Object(r.jsx)(Z.a,{children:Object(r.jsx)(te,{})})}function te(){var e=Object(j.useState)(!1),t=e[0],n=(e[1],Object(F.useRouter)().query.slug),i=f.c.collection("users").doc(f.b.currentUser.uid).collection("recipes").doc(n),c=Object($.c)(i),s=Object(a.a)(c,1)[0];return Object(r.jsx)("main",{children:s&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(J,{name:s.title,buttonName:"Live Ansicht",style:{position:"relative"},href:"/".concat(s.username,"/").concat(s.slug),parentName:"Rezepte"}),Object(r.jsx)(H.a,{justify:"center",children:Object(r.jsx)(Q.a,{style:{position:"relative",bottom:"4.5rem"},children:Object(r.jsx)(G.a,{children:Object(r.jsx)(I.a,{children:Object(r.jsx)(z.a,{md:"12",children:Object(r.jsx)(Y,{recipeRef:i,preview:t,defaultValues:s})})})})})})]})})}ee.layout=i.a}},[["980i",0,2,6,7,8,5,1,3,4,9,10]]]);